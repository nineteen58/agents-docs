# Inbox Management

The Inbox provides real-time conversation management and monitoring across all channels, allowing you to view, manage, and interact with ongoing conversations.

## Overview

The Inbox provides:
- **Real-time Monitoring**: Live conversation updates and status tracking
- **Multi-Channel Support**: View conversations from all connected channels
- **Conversation Management**: Handover, assignment, and conversation control
- **Interactive Messaging**: Send messages and files (WhatsApp only)
- **Voice Recording**: Record and transcribe audio messages
- **File Sharing**: Upload and share files with customers

## How It Works

### Conversation Display
The Inbox shows conversations in a clean, chat-like interface:
- **Message History**: Complete conversation thread with timestamps
- **Media Support**: Images, documents, and other files
- **Tool Interactions**: Visual display of AI tool usage and results
- **Real-time Updates**: Auto-refresh every 5 seconds for live updates

### Message Types
The Inbox handles various message formats:
- **Text Messages**: Standard text communication
- **Image Messages**: Display images with base64 conversion
- **Tool Calls**: Visual representation of AI tool usage
- **Tool Results**: Display tool execution results and outputs
- **Audio Messages**: Voice recordings with transcription support

## Features

### Conversation Management

**Handover System**:
- **Put in Handover**: Transfer conversation to human agents
- **Return to AI**: Hand conversation back to AI agent
- **Assignment**: Assign conversations to specific team members
- **Status Tracking**: Monitor handover status and assignments

**Conversation Actions**:
- **Delete Conversation**: Permanently remove conversation and data
- **User Assignment**: Assign conversations to team members
- **Status Management**: Control conversation flow and routing

### Interactive Messaging

**WhatsApp Integration**:
- **Send Messages**: Type and send text messages
- **File Upload**: Upload images, documents, and other files
- **Voice Recording**: Record audio messages with transcription
- **Media Sharing**: Share various file types with customers

**Message Input**:
- **Text Input**: Rich text area for message composition
- **File Attachments**: Support for multiple file types (16MB limit)
- **Voice Recording**: Record audio with automatic transcription
- **Send Controls**: Submit messages with file attachments

### Voice Features

**Audio Recording**:
- **Microphone Access**: Browser-based audio recording
- **Transcription**: Automatic speech-to-text conversion
- **Audio Playback**: Play recorded messages
- **File Management**: Download and manage audio files

**Transcription Process**:
1. **Record Audio**: Click microphone to start recording
2. **Stop Recording**: Click stop to end recording
3. **Auto-Transcription**: Audio is automatically transcribed
4. **Text Integration**: Transcribed text is added to message input

## Interface Components

### Conversation Header
- **Contact Information**: Customer name and phone number
- **Conversation Details**: Start date and time
- **Channel Information**: Source channel (WhatsApp, etc.)
- **Action Buttons**: Call, handover, and management options

### Message Display
- **Message Bubbles**: User and assistant message styling
- **Avatar System**: User and assistant avatars
- **Timestamp Display**: Message timing information
- **Media Rendering**: Images, files, and rich content

### Input Area
- **Text Input**: Multi-line text area for message composition
- **File Upload**: Drag-and-drop or click to upload files
- **Voice Recording**: Microphone button for audio recording
- **Send Button**: Submit messages with attachments

## Channel Support

### WhatsApp
- **Full Messaging**: Send and receive text messages
- **File Sharing**: Upload and share various file types
- **Voice Messages**: Record and send audio messages
- **Real-time Updates**: Live message synchronization

### Other Channels
- **View Only**: Display conversation history
- **Limited Interaction**: Basic conversation viewing
- **Handover Support**: Transfer to human agents
- **Status Management**: Control conversation flow

## Best Practices

### Conversation Management

**Handover Process**:
- **Clear Communication**: Inform customers about handover
- **Smooth Transition**: Ensure seamless agent transfer
- **Context Preservation**: Maintain conversation history
- **Follow-up**: Monitor handover success

**Assignment Strategy**:
- **Skill Matching**: Assign based on agent expertise
- **Workload Balance**: Distribute conversations evenly
- **Priority Handling**: Address urgent conversations first
- **Team Coordination**: Coordinate with team members

### Message Quality

**Response Guidelines**:
- **Professional Tone**: Maintain professional communication
- **Clear Language**: Use clear, understandable language
- **Appropriate Length**: Keep messages concise but complete
- **Context Awareness**: Reference previous conversation points

**File Management**:
- **File Size**: Keep files under 16MB limit
- **File Types**: Use appropriate file formats
- **Security**: Ensure file content is appropriate
- **Organization**: Name files clearly and descriptively

## Troubleshooting

### Common Issues

**Message Sending Problems**:
- **Channel Restrictions**: Verify channel supports messaging
- **File Size Limits**: Check file size requirements
- **Network Issues**: Verify internet connectivity
- **Permission Errors**: Check browser permissions

**Audio Recording Issues**:
- **Microphone Access**: Grant microphone permissions
- **Browser Support**: Use supported browser
- **Transcription Errors**: Check audio quality
- **File Format**: Verify audio format compatibility

**Display Problems**:
- **Image Loading**: Check image URL accessibility
- **Message Format**: Verify message structure
- **Tool Display**: Check tool call formatting
- **Real-time Updates**: Verify auto-refresh settings

### Debugging Steps

1. **Check Permissions**: Verify browser permissions for microphone and camera
2. **Test Connectivity**: Ensure stable internet connection
3. **Clear Cache**: Clear browser cache and refresh
4. **Check Console**: Review browser console for errors
5. **Verify Settings**: Confirm channel and agent configuration

## Security and Privacy

### Data Protection
- **Message Encryption**: All messages encrypted in transit
- **File Security**: Secure file upload and storage
- **Access Controls**: Role-based access to conversations
- **Audit Logging**: Complete audit trail of actions

### Privacy Considerations
- **Data Minimisation**: Collect only necessary information
- **User Consent**: Ensure proper consent for data collection
- **Data Retention**: Implement appropriate retention policies
- **Compliance**: Follow relevant privacy regulations

## Integration Examples

### Customer Support
```markdown
# Customer Support Inbox
- Monitor support conversations across all channels
- Handle escalations and complex issues
- Provide real-time assistance to customers
- Track resolution times and satisfaction
```

### Sales Management
```markdown
# Sales Inbox
- Track sales conversations and leads
- Manage prospect interactions
- Coordinate with sales team members
- Monitor conversion rates and outcomes
```

### General Business
```markdown
# General Business Inbox
- Centralized conversation management
- Multi-channel customer communication
- Team collaboration and coordination
- Performance monitoring and analytics
```

## Monitoring and Analytics

### Real-time Metrics
- **Active Conversations**: Number of ongoing conversations
- **Response Times**: Average response time to messages
- **Handover Rates**: Frequency of human agent handovers
- **Message Volume**: Total messages sent and received

### Performance Tracking
- **Agent Performance**: Individual agent metrics
- **Channel Performance**: Channel-specific statistics
- **Customer Satisfaction**: Conversation quality metrics
- **Resolution Times**: Time to resolve customer issues
